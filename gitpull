#!/bin/bash
set -eu

# Git clone/pull van alle repo's.

readonly -a REPO=(
    "$HOME/bin"
    "$HOME/kz-deb"
    "$HOME/kz-docs"
    "$HOME/kz-scripts"
    "$HOME/kz-uploads"
    "$HOME/programs"
    "$HOME/scripts"
    )

git config --global credential.helper store
for repo in "${REPO[@]}"; do
    base=$(basename "$repo")
    printf "$(tput bold)%s$(tput sgr0)\n" "$base"
    if ! git    clone                                       \
                "https://github.com/karelzimmer/$base.git"  \
                "$repo"                                     2> /dev/null
    then
        cd "$repo" || exit 1
        git clean -d  -f .
        git pull
    fi
done
